import{G as e,j as a}from"./index-0094ed61.js";import{r as s}from"./vendor-ea3cc270.js";import{a as l,b as t,c as r}from"./layoutHelpers-b7eca1f0.js";import{u as n,T as d,a8 as i,d as o,r as c}from"./ui-a8f8a709.js";import"./firebase-147eafc7.js";import"./i18n-80c88d68.js";function CareerPaths(){const{guestData:u,updateGuestData:x}=s.useContext(e),[p,g]=s.useState((null==u?void 0:u.careerPaths)||[]),[m,h]=s.useState(!1),[b,j]=s.useState({title:"",company:"",description:"",startDate:"",endDate:"",salary:"",skills:""}),saveCareerPaths=e=>{g(e),x(a=>({...a,careerPaths:e}))},y=s.useCallback(()=>{if(!b.title)return void alert("Please enter a job title");const e={id:Date.now(),...b,salary:b.salary?parseInt(b.salary):0,createdAt:(new Date).toISOString()};saveCareerPaths([...p,e]),j({title:"",company:"",description:"",startDate:"",endDate:"",salary:"",skills:""}),h(!1)},[b,p,saveCareerPaths]),f=s.useCallback(e=>{confirm("Delete this career entry?")&&saveCareerPaths(p.filter(a=>a.id!==e))},[p,saveCareerPaths]),N=s.useMemo(()=>p.length>0?Math.round(p.reduce((e,a)=>e+(a.salary||0),0)/p.length):0,[p]),v=s.useMemo(()=>p.sort((e,a)=>new Date(a.startDate)-new Date(e.startDate)),[p]);return a.jsxs("div",{className:l(),children:[a.jsxs("div",{className:t(),children:[a.jsx("h1",{className:r(),children:"Career Paths"}),a.jsxs("button",{onClick:()=>h(!m),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Add new career path",children:[a.jsx(n,{className:"w-4 h-4"}),"Add Path"]})]}),m&&a.jsxs("div",{className:"bg-blue-50 rounded-lg border-2 border-blue-200 p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Career Path"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"text",placeholder:"Job Title *",value:b.title,onChange:e=>j({...b,title:e.target.value}),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Job title"}),a.jsx("input",{type:"text",placeholder:"Company",value:b.company,onChange:e=>j({...b,company:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Company name"}),a.jsx("input",{type:"number",placeholder:"Salary",value:b.salary,onChange:e=>j({...b,salary:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Salary"}),a.jsx("input",{type:"date",value:b.startDate,onChange:e=>j({...b,startDate:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Start date"}),a.jsx("input",{type:"date",value:b.endDate,onChange:e=>j({...b,endDate:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"End date"}),a.jsx("input",{type:"text",placeholder:"Key Skills",value:b.skills,onChange:e=>j({...b,skills:e.target.value}),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Key skills"}),a.jsx("textarea",{placeholder:"Description",value:b.description,onChange:e=>j({...b,description:e.target.value}),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,"aria-label":"Job description"})]}),a.jsxs("div",{className:"flex gap-3 justify-end mt-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Add career path",children:[a.jsx(n,{className:"w-4 h-4"}),"Add"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-2",children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{className:"font-bold",children:"Total Paths"})]}),a.jsx("div",{className:"text-3xl font-bold",children:p.length})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[a.jsx(i,{className:"w-5 h-5"}),a.jsx("span",{className:"font-bold",children:"Current Role"})]}),a.jsx("div",{className:"text-lg font-bold",children:p.length>0?p[p.length-1].title:"None"})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[a.jsx(o,{className:"w-5 h-5"}),a.jsx("span",{className:"font-bold",children:"Avg Salary"})]}),a.jsxs("div",{className:"text-lg font-bold",children:["$",N.toLocaleString()]})]})]}),a.jsx("div",{className:"space-y-4",children:0===p.length?a.jsx("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:"No career paths yet"}):v.map((e,s)=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold",children:s+1}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:e.title}),a.jsx("p",{className:"text-gray-600",children:e.company})]})]}),a.jsx("button",{onClick:()=>f(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg","aria-label":`Delete career path: ${e.title}`,children:a.jsx(c,{className:"w-5 h-5"})})]}),e.description&&a.jsx("p",{className:"text-gray-700 mb-4",children:e.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[e.salary>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Salary:"})," $",e.salary.toLocaleString()]}),e.startDate&&a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Started:"})," ",e.startDate]}),e.endDate&&a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Ended:"})," ",e.endDate]})]}),e.skills&&a.jsxs("div",{children:[a.jsx("span",{className:"font-bold text-sm",children:"Skills:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.skills.split(",").map((e,s)=>a.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:e.trim()},s))})]})]},e.id))})]})}export{CareerPaths as default};
