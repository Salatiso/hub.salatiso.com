import{j as e}from"./index-cd94da5a.js";import{r as s,b as t,u as a,f as l}from"./vendor-d6555781.js";import{H as r,A as n}from"./AlertCard-1df89247.js";import{X as i,t as d,b as c,U as o,e as m,d as x,A as h,D as g,z as u,s as b,g as p,a as j,W as v,K as y,ax as N,o as f,$ as w,O as k}from"./ui-eef567c7.js";import{b as C}from"./browser-0b5c6963.js";import"./firebase-fb364782.js";import"./i18n-8b62e3c8.js";import"./index-1f3c6b67.js";import"./index-629bb217.js";const CommunityCreate=({onCreate:a})=>{const[l,r]=s.useState(""),[n,i]=s.useState(""),d=t();return e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create a Community"}),e.jsx("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Community name",value:l,onChange:e=>r(e.target.value)}),e.jsx("textarea",{className:"w-full mb-2 p-2 border rounded",placeholder:"Short description",value:n,onChange:e=>i(e.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>{if(!l.trim())return;const e="c_"+Date.now(),s={id:e,name:l.trim(),description:n.trim(),members:[],households:[],settings:{confirmationsRequired:2}};a(s),d(`/community/${e}`)},className:"px-4 py-2 bg-primary-600 text-white rounded",children:"Create"})})]})},GoogleMapsModal=({isOpen:t,onClose:a,onLocationSelect:l,initialLocation:r})=>{const[n,c]=s.useState(null),[o,m]=s.useState(""),x=s.useRef(null),h=s.useRef(null);s.useEffect(()=>{t&&window.google&&window.google.maps&&initializeMap()},[t]);const initializeMap=()=>{if(!x.current)return;const e=r||{lat:-26.2041,lng:28.0473},s=new window.google.maps.Map(x.current,{center:e,zoom:12,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0}),t=new window.google.maps.Marker({position:e,map:s,draggable:!0});h.current=t,t.addListener("dragend",e=>{const s=e.latLng;c({lat:s.lat(),lng:s.lng(),address:"Loading address..."}),geocodePosition(s)}),s.addListener("click",e=>{const s=e.latLng;t.setPosition(s),c({lat:s.lat(),lng:s.lng(),address:"Loading address..."}),geocodePosition(s)})},geocodePosition=e=>{(new window.google.maps.Geocoder).geocode({location:e},(e,s)=>{"OK"===s&&e[0]&&c(s=>({...s,address:e[0].formatted_address}))})},handleSearch=()=>{if(!o.trim())return;(new window.google.maps.Geocoder).geocode({address:o},(e,s)=>{if("OK"===s&&e[0]){const s=e[0].geometry.location,t=x.current?window.google.maps.Map.prototype:null;t&&h.current&&(t.setCenter(s),h.current.setPosition(s),c({lat:s.lat(),lng:s.lng(),address:e[0].formatted_address}))}else alert("Location not found. Please try a different search term.")})};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Select Location"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(i,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search for a location...",value:o,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleSearch(),className:"flex-1 p-2 border rounded dark:bg-gray-700 dark:border-gray-600"}),e.jsx("button",{onClick:handleSearch,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Search"})]}),e.jsx("div",{ref:x,className:"w-full h-96 border rounded",style:{minHeight:"400px"},children:!window.google&&e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Google Maps API not loaded.",e.jsx("br",{}),"Please add your Google Maps API key to enable map functionality."]})]})})}),n&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("p",{className:"text-sm font-medium",children:"Selected Location:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.address}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Coordinates: ",n.lat.toFixed(6),", ",n.lng.toFixed(6)]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:()=>{n&&(l(n),a())},disabled:!n,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Confirm Location"})]})]})}):null},EventCreateWizard=({onCreate:t,onClose:a,existingEvent:l=null})=>{var r;const[n,i]=s.useState(1),[h,g]=s.useState(()=>l?{...l,dates:l.dates||[{date:"",startTime:"",endTime:"",label:""}],locations:l.locations||[{address:"",coordinates:null,label:""}],activities:l.activities||[],integrations:l.integrations||[]}:{title:"",type:"private",dates:[{date:"",startTime:"",endTime:"",label:""}],locations:[{address:"",coordinates:null,label:""}],description:"",invitees:[],safetyMeasures:[],monitoringLevel:"standard",isPublic:!1,hostRole:"child",activities:[],integrations:[]}),[u,b]=s.useState({isOpen:!1,locationIndex:null,initialLocation:null}),[p,j]=s.useState(!1),v=[{id:"private",label:"Private Event",desc:"Family gatherings, birthdays",icon:"🏠"},{id:"community",label:"Community Event",desc:"Street parties, clean-ups",icon:"🏘️"},{id:"public",label:"Public Event",desc:"Festivals, sports events",icon:"🎪"},{id:"institutional",label:"Institutional",desc:"School trips, corporate",icon:"🏫"},{id:"multi_faceted",label:"Multi-Faceted Event",desc:"Complex events with multiple activities",icon:"🎭"}];return e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Create LifeSync Seal Event"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx("span",{children:"Event Details"}),e.jsx("span",{children:"Safety Setup"}),e.jsx("span",{children:"Invitations"}),"multi_faceted"===h.type&&e.jsx("span",{children:"Activities"}),e.jsx("span",{children:"Review"})]}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:"multi_faceted"===h.type?5:4},(e,s)=>s+1).map(s=>e.jsx("div",{className:"flex-1 h-2 rounded "+(s<=n?"bg-primary-500":"bg-gray-200")},s))})]}),1===n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Import Event"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",className:"flex-1 p-3 border rounded-lg hover:bg-gray-50 flex items-center justify-center disabled:opacity-50",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".ics,.ical",e.onchange=e=>{e.target.files[0]&&(j(!0),setTimeout(()=>{const e={title:"Imported Calendar Event",dates:[{date:"2025-09-20",startTime:"14:00",endTime:"16:00",label:"Main Event"}],locations:[{address:"123 Main St, Johannesburg",coordinates:null,label:"Venue"}],description:"Event imported from calendar",type:"private"};g(s=>({...s,...e})),j(!1),alert("Event imported successfully from calendar!")},2e3))},e.click()},disabled:p,children:["📅 ",p?"Importing...":"Import from Calendar"]}),e.jsxs("button",{type:"button",className:"flex-1 p-3 border rounded-lg hover:bg-gray-50 flex items-center justify-center disabled:opacity-50",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".csv",e.onchange=e=>{const s=e.target.files[0];if(s){j(!0);const e=new FileReader;e.onload=e=>{const s=e.target.result.split("\n");if(s.length>1){const e=s[1].split(","),t={title:e[0]||"Imported Event",dates:[{date:e[1]||"",startTime:e[2]||"",endTime:e[3]||"",label:"Imported"}],locations:[{address:e[4]||"",coordinates:null,label:"Venue"}],description:e[5]||"Event imported from CSV",type:"private"};g(e=>({...e,...t})),j(!1),alert("Event imported successfully from CSV!")}},e.readAsText(s)}},e.click()},disabled:p,children:["📄 ",p?"Importing...":"Upload CSV"]}),e.jsxs("button",{type:"button",className:"flex-1 p-3 border rounded-lg hover:bg-gray-50 flex items-center justify-center disabled:opacity-50",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".vcf,.vcs,.ics,.csv",e.onchange=e=>{e.target.files[0]&&(j(!0),setTimeout(()=>{const e={title:"Phone Imported Event",dates:[{date:"2025-09-25",startTime:"10:00",endTime:"12:00",label:"Meeting"}],locations:[{address:"456 Contact St, Cape Town",coordinates:null,label:"Location"}],description:"Event imported from phone contacts/calendar",type:"private"};g(s=>({...s,...e})),j(!1),alert("Event imported successfully from phone!")},2e3))},e.click()},disabled:p,children:["📱 ",p?"Importing...":"Upload from Phone"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Title"}),e.jsx("input",{type:"text",className:"w-full p-3 border rounded-lg",placeholder:"e.g., John's 16th Birthday Party",value:h.title,onChange:e=>g(s=>({...s,title:e.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3",children:"Event Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(s=>e.jsxs("div",{onClick:()=>g(e=>({...e,type:s.id})),className:"p-4 border rounded-lg cursor-pointer transition "+(h.type===s.id?"border-primary-500 bg-primary-50 dark:bg-primary-900":"border-gray-200 hover:border-gray-300"),children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-sm text-gray-600",children:s.desc})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Dates & Times"}),e.jsxs("div",{className:"space-y-3",children:[h.dates.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"Label"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg text-sm",placeholder:"e.g. Main Event, Reception",value:s.label,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.dates];return a[t]={...a[t],label:s},{...e,dates:a}})}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"Date"}),e.jsx("input",{type:"date",className:"w-full p-2 border rounded-lg text-sm",value:s.date,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.dates];return a[t]={...a[t],date:s},{...e,dates:a}})}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"Start Time"}),e.jsx("input",{type:"time",className:"w-full p-2 border rounded-lg text-sm",value:s.startTime,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.dates];return a[t]={...a[t],startTime:s},{...e,dates:a}})}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"End Time"}),e.jsx("input",{type:"time",className:"w-full p-2 border rounded-lg text-sm",value:s.endTime,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.dates];return a[t]={...a[t],endTime:s},{...e,dates:a}})}})]}),e.jsx("div",{className:"flex gap-1",children:e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,dates:e.dates.filter((e,s)=>s!==t)})),className:"px-2 py-2 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Remove"})})]},t)),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,dates:[...e.dates,{date:"",startTime:"",endTime:"",label:""}]})),className:"px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Add Another Date/Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Locations"}),e.jsxs("div",{className:"space-y-3",children:[h.locations.map((s,t)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"Label"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg text-sm",placeholder:"e.g. Main Venue, Reception",value:s.label,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.locations];return a[t]={...a[t],label:s},{...e,locations:a}})}})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-1",children:[e.jsx("input",{type:"text",className:"flex-1 p-2 border rounded-lg text-sm",placeholder:"Enter address",value:s.address,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.locations];return a[t]={...a[t],address:s},{...e,locations:a}})}}),e.jsx("button",{type:"button",onClick:()=>b({isOpen:!0,locationIndex:t,initialLocation:s.coordinates}),className:"px-2 py-2 bg-green-500 text-white rounded hover:bg-green-600",title:"Select from Google Maps",children:"🗺️"}),e.jsx("button",{type:"button",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{g(s=>{const a=[...s.locations];return a[t]={...a[t],coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}},{...s,locations:a}})},()=>alert("Unable to get location."))},className:"px-2 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",title:"Use current location",children:e.jsx(d,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,locations:e.locations.filter((e,s)=>s!==t)})),className:"px-2 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"✕"})]})]}),s.coordinates&&e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["✓ Location captured: ",s.coordinates.lat.toFixed(6),", ",s.coordinates.lng.toFixed(6)]})]},t)),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,locations:[...e.locations,{address:"",coordinates:null,label:""}]})),className:"px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Add Another Location"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx("textarea",{className:"w-full p-3 border rounded-lg",rows:3,placeholder:"Event description and special instructions",value:h.description,onChange:e=>g(s=>({...s,description:e.target.value}))})]})]}),2===n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(c,{className:"h-5 w-5 mr-2"}),"Safety Measures"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"emergency_contacts",label:"Emergency Contact Sync",desc:"All participants sync emergency contacts"},{id:"location_sharing",label:"Location Sharing",desc:"GPS tracking during event"},{id:"onsite_monitors",label:"On-site Monitors",desc:"Designated safety personnel"},{id:"mesh_network",label:"Offline Mesh Network",desc:"Device-to-device communication"},{id:"checkin_system",label:"Check-in System",desc:"Periodic safety confirmations"},{id:"emergency_kit",label:"Emergency Kit",desc:"First aid and emergency supplies"}].map(s=>e.jsx("div",{onClick:()=>{return e=s.id,t=!h.safetyMeasures.includes(s.id),void g(s=>({...s,safetyMeasures:t?[...s.safetyMeasures,e]:s.safetyMeasures.filter(s=>s!==e)}));var e,t},className:"p-4 border rounded-lg cursor-pointer transition "+(h.safetyMeasures.includes(s.id)?"border-primary-500 bg-primary-50 dark:bg-primary-900":"border-gray-200 hover:border-gray-300"),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:h.safetyMeasures.includes(s.id),onChange:()=>{},className:"mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-sm text-gray-600",children:s.desc})]})]})},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3",children:"Monitoring Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"basic",label:"Basic",desc:"Emergency contacts only"},{id:"standard",label:"Standard",desc:"Location sharing + check-ins"},{id:"advanced",label:"Advanced",desc:"Full sync + mesh network"}].map(s=>e.jsxs("div",{onClick:()=>g(e=>({...e,monitoringLevel:s.id})),className:"p-4 border rounded-lg cursor-pointer text-center transition "+(h.monitoringLevel===s.id?"border-primary-500 bg-primary-50 dark:bg-primary-900":"border-gray-200 hover:border-gray-300"),children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-sm text-gray-600",children:s.desc})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3",children:"Host Role"}),e.jsx("div",{className:"flex space-x-4",children:[{id:"child",label:"Child/Teen",desc:"Requires parental approval"},{id:"parent",label:"Parent/Guardian",desc:"Direct approval authority"},{id:"organization",label:"Organization",desc:"Institutional event"}].map(s=>e.jsxs("div",{onClick:()=>g(e=>({...e,hostRole:s.id})),className:"p-4 border rounded-lg cursor-pointer flex-1 text-center transition "+(h.hostRole===s.id?"border-primary-500 bg-primary-50 dark:bg-primary-900":"border-gray-200 hover:border-gray-300"),children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-sm text-gray-600",children:s.desc})]},s.id))})]})]}),3===n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(o,{className:"h-5 w-5 mr-2"}),"Guest Management"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:h.isPublic,onChange:e=>g(s=>({...s,isPublic:e.target.checked})),className:"mr-2"}),"Public Event (visible to community)"]})}),!h.isPublic&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Invite Specific People"}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Select from your neighbourhood contacts or add manually"}),e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Select from Contacts"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Guest Experience"}),e.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:"• Unique event codes for guest account creation"}),e.jsx("li",{children:"• Emergency contact synchronization"}),e.jsx("li",{children:"• Customizable monitoring preferences"}),e.jsx("li",{children:"• Offline mesh communication access"})]})]})]}),4===n&&"multi_faceted"===h.type&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Event Activities & Integrations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Activities"}),e.jsxs("div",{className:"space-y-2",children:[h.activities.map((s,t)=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsx("input",{type:"text",placeholder:"Activity name",value:s.name,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.activities];return a[t]={...a[t],name:s},{...e,activities:a}})},className:"p-2 border rounded"}),e.jsx("input",{type:"text",placeholder:"Description",value:s.description,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.activities];return a[t]={...a[t],description:s},{...e,activities:a}})},className:"p-2 border rounded"})]}),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,activities:e.activities.filter((e,s)=>s!==t)})),className:"mt-2 px-2 py-1 bg-red-500 text-white rounded text-sm",children:"Remove"})]},t)),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,activities:[...e.activities,{name:"",description:""}]})),className:"px-3 py-2 bg-blue-500 text-white rounded",children:"Add Activity"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Service Integrations"}),e.jsxs("div",{className:"space-y-2",children:[h.integrations.map((s,t)=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsx("input",{type:"text",placeholder:"Service name (e.g., Ride Sharing)",value:s.service,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.integrations];return a[t]={...a[t],service:s},{...e,integrations:a}})},className:"p-2 border rounded"}),e.jsx("input",{type:"url",placeholder:"Service URL",value:s.url,onChange:e=>{const s=e.target.value;g(e=>{const a=[...e.integrations];return a[t]={...a[t],url:s},{...e,integrations:a}})},className:"p-2 border rounded"})]}),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,integrations:e.integrations.filter((e,s)=>s!==t)})),className:"mt-2 px-2 py-1 bg-red-500 text-white rounded text-sm",children:"Remove"})]},t)),e.jsx("button",{type:"button",onClick:()=>g(e=>({...e,integrations:[...e.integrations,{service:"",url:""}]})),className:"px-3 py-2 bg-blue-500 text-white rounded",children:"Add Integration"})]})]})]})]})}),4===n&&"multi_faceted"!==h.type||5===n&&"multi_faceted"===h.type&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Event Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Event Details"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Title:"})," ",h.title]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",null==(r=v.find(e=>e.id===h.type))?void 0:r.label]}),e.jsx("div",{children:e.jsx("strong",{children:"Dates:"})}),e.jsx("div",{className:"ml-4",children:h.dates.map((s,t)=>e.jsxs("div",{children:[s.label&&e.jsxs("span",{children:[s.label,": "]}),s.date," ",s.startTime," - ",s.endTime]},t))}),e.jsx("div",{children:e.jsx("strong",{children:"Locations:"})}),e.jsx("div",{className:"ml-4",children:h.locations.map((s,t)=>e.jsxs("div",{children:[s.label&&e.jsxs("span",{children:[s.label,": "]}),s.address]},t))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Safety & Monitoring"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Monitoring:"})," ",h.monitoringLevel]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Safety Measures:"})," ",h.safetyMeasures.length]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Host Role:"})," ",h.hostRole]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Public Event:"})," ",h.isPublic?"Yes":"No"]})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[e.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"Approval Process"}),e.jsxs("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["child"===h.hostRole&&e.jsx("div",{children:"Child → Parent Unit → Main Household approval required"}),"parent"===h.hostRole&&e.jsx("div",{children:"Parent approval → Household validation required"}),"organization"===h.hostRole&&e.jsx("div",{children:"Organizational approval process applies"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900 rounded-lg border border-green-200 dark:border-green-700",children:[e.jsx("h4",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"LifeSync Seal Eligibility"}),e.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"This event qualifies for the LifeSync Trust Seal upon approval completion."})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsxs("button",{onClick:()=>{n>1&&i(n-1)},disabled:1===n,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),"Back"]}),n<("multi_faceted"===h.type?5:4)?e.jsxs("button",{onClick:()=>{const e="multi_faceted"===h.type?5:4;n<e&&i(n+1)},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:["Next",e.jsx(x,{className:"h-4 w-4 ml-1"})]}):e.jsx("button",{onClick:()=>{const e={...l||{},id:(null==l?void 0:l.id)||"event_"+Date.now(),...h,createdAt:(null==l?void 0:l.createdAt)||Date.now(),lastUpdated:Date.now(),status:(null==l?void 0:l.status)||"pending_approval",governance:(null==l?void 0:l.governance)||{approvalChain:["unit","household"],currentStep:"unit",approvals:[],rejections:[]},seal:(null==l?void 0:l.seal)||{granted:!1,validUntil:null,criteria:[]}};t(e),a()},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:l?"Update Event":"Create Event & Request Approval"})]})]})}),e.jsx(GoogleMapsModal,{isOpen:u.isOpen,onClose:()=>b({isOpen:!1,locationIndex:null,initialLocation:null}),onLocationSelect:e=>{null!==u.locationIndex&&g(s=>{const t=[...s.locations];return t[u.locationIndex]={...t[u.locationIndex],address:e.address,coordinates:{lat:e.lat,lng:e.lng}},{...s,locations:t}})},initialLocation:u.initialLocation})]})},EventApprovalWorkflow=({event:t,onApprove:a,onReject:l,currentUserRole:r="parent"})=>{var n;const[i,d]=s.useState(!1),[c,o]=s.useState(!1),[m,x]=s.useState(!1),[v,y]=s.useState(""),[N,f]=s.useState(""),[w,k]=s.useState(""),C=(null==t?void 0:t.governance)||{},S=C.currentStep||"unit",E=C.approvals||[],A=C.rejections||[],handleApprove=(e="approve")=>{let s={};if("conditions"===e&&!N.trim())return;if("request_info"===e&&!w.trim())return;"conditions"===e&&(s={conditions:N}),"request_info"===e&&(s={requestInfo:w});const l={id:Date.now(),userId:"current_user",userRole:r,step:S,timestamp:Date.now(),approved:"reject"!==e,type:e,...s};a(t.id,l),o(!1),x(!1),f(""),k("")},R=[{id:"unit",label:"Unit Approval",description:"Parent/Guardian approval for child-initiated events",icon:p,requiredRole:["parent","guardian"]},{id:"household",label:"Household Approval",description:"Main household validation and final approval",icon:j,requiredRole:["parent","guardian","household_admin"]}];return e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2 text-blue-600"}),"Event Approval Workflow"]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:t.title}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",t.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Date:"})," ",t.date]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Host Role:"})," ",t.hostRole]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",null==(n=t.status)?void 0:n.replace("_"," ")]})]})]})}),e.jsx("div",{className:"space-y-4 mb-6",children:R.map(s=>{var t;const a=(e=>{const s=E.filter(s=>s.step===e);return A.filter(s=>s.step===e).length>0?"rejected":s.length>0?"approved":e===S?"pending":"waiting"})(s.id),l=s.icon;return e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center "+("approved"===a?"bg-green-100 text-green-600":"rejected"===a?"bg-red-100 text-red-600":"pending"===a?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"),children:["approved"===a&&e.jsx(g,{className:"w-5 h-5"}),"rejected"===a&&e.jsx(u,{className:"w-5 h-5"}),"pending"===a&&e.jsx(b,{className:"w-5 h-5"}),"waiting"===a&&e.jsx(l,{className:"w-5 h-5"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:s.label}),e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("approved"===a?"bg-green-100 text-green-800":"rejected"===a?"bg-red-100 text-red-800":"pending"===a?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:a})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.description}),"pending"===a&&(!("unit"!==S||!["parent","guardian"].includes(r))||!("household"!==S||!["parent","guardian","household_admin"].includes(r)))&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>handleApprove("approve"),className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Approve"}),e.jsx("button",{onClick:()=>o(!0),className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:"Approve with Conditions"}),e.jsx("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Request More Info"}),e.jsx("button",{onClick:()=>d(!0),className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Reject"})]}),"approved"===a&&e.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["Approved by ",E.filter(e=>e.step===s.id).length," reviewer(s)"]}),"rejected"===a&&e.jsxs("div",{className:"mt-2 text-sm text-red-600",children:["Rejected: ",null==(t=A.find(e=>e.step===s.id))?void 0:t.reason]})]})]},s.id)})}),"approved"===t.status&&e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900 rounded-lg border border-green-200 dark:border-green-700",children:[e.jsxs("div",{className:"flex items-center text-green-800 dark:text-green-200",children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Event Approved!"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"The event has completed the approval workflow and can now proceed with guest invitations."})]}),"rejected"===t.status&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900 rounded-lg border border-red-200 dark:border-red-700",children:[e.jsxs("div",{className:"flex items-center text-red-800 dark:text-red-200",children:[e.jsx(u,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Event Rejected"})]}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"The event has been rejected. Please review the rejection reasons and modify the event if needed."})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Approve with Conditions"}),e.jsx("textarea",{className:"w-full p-3 border rounded-lg",rows:4,placeholder:"Please specify the conditions for approval...",value:N,onChange:e=>f(e.target.value)}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:()=>handleApprove("conditions"),disabled:!N.trim(),className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:bg-gray-400",children:"Approve with Conditions"})]})]})})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Request More Information"}),e.jsx("textarea",{className:"w-full p-3 border rounded-lg",rows:4,placeholder:"Please specify what additional information is needed...",value:w,onChange:e=>k(e.target.value)}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:()=>handleApprove("request_info"),disabled:!w.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:"Request Info"})]})]})})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Event"}),e.jsx("textarea",{className:"w-full p-3 border rounded-lg",rows:4,placeholder:"Please provide a reason for rejection...",value:v,onChange:e=>y(e.target.value)}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:()=>{if(!v.trim())return;const e={id:Date.now(),userId:"current_user",userRole:r,step:S,timestamp:Date.now(),reason:v,approved:!1,type:"reject"};l(t.id,e),d(!1),y("")},disabled:!v.trim(),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-400",children:"Reject Event"})]})]})})})]})},EventSyncDashboard=({event:t,onClose:a})=>{const[l,r]=s.useState({active:!1,participants:[],alerts:[],meshNetwork:{active:!1,devices:0,range:"local",strength:"good"},location:{shared:!1,updates:[],accuracy:"high"}}),[n,i]=s.useState(""),[c,m]=s.useState("info");s.useEffect(()=>{const e=setInterval(()=>{r(e=>({...e,participants:e.participants.map(e=>({...e,lastSeen:Date.now()-3e5*Math.random(),status:Math.random()>.1?"online":"offline"}))}))},5e3);return()=>clearInterval(e)},[]);const x=[{id:1,name:"John Doe",role:"attendee",status:"online",lastSeen:Date.now()-12e4},{id:2,name:"Jane Smith",role:"monitor",status:"online",lastSeen:Date.now()-6e4},{id:3,name:"Mike Johnson",role:"attendee",status:"offline",lastSeen:Date.now()-6e5},{id:4,name:"Sarah Wilson",role:"emergency",status:"online",lastSeen:Date.now()-3e4}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Event Sync Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.title})]}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sync Status"}),e.jsx("div",{className:"flex space-x-2",children:l.active?e.jsx("button",{onClick:()=>{r(e=>({...e,active:!1,meshNetwork:{...e.meshNetwork,active:!1},location:{...e.location,shared:!1}}))},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Stop Sync"}):e.jsx("button",{onClick:()=>{r(e=>({...e,active:!0,meshNetwork:{...e.meshNetwork,active:!0},location:{...e.location,shared:!0}}))},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Start Sync"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-3 rounded "+(l.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{className:"font-medium",children:["Sync ",l.active?"Active":"Inactive"]})]})}),e.jsx("div",{className:"p-3 rounded "+(l.meshNetwork.active?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{className:"font-medium",children:["Mesh ",l.meshNetwork.active?"Connected":"Offline"]})]})}),e.jsx("div",{className:"p-3 rounded "+(l.location.shared?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{className:"font-medium",children:["Location ",l.location.shared?"Shared":"Private"]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(o,{className:"w-5 h-5 mr-2"}),"Participants (",x.length,")"]}),e.jsx("div",{className:"space-y-3",children:x.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-3 "+("online"===s.status?"bg-green-500":"bg-red-500")}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-600 capitalize",children:s.role})]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:["online"===s.status?"Online":"Last seen",e.jsx("div",{children:new Date(s.lastSeen).toLocaleTimeString()})]})]},s.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2"}),"Send Alert"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("select",{value:c,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"emergency",children:"Emergency"}),e.jsx("option",{value:"checkin",children:"Check-in Request"})]}),e.jsx("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"Alert message...",className:"w-full p-2 border rounded",rows:3}),e.jsx("button",{onClick:()=>{if(!n.trim())return;const e={id:Date.now(),type:c,message:n.trim(),timestamp:Date.now(),sender:"current_user"};r(s=>({...s,alerts:[e,...s.alerts]})),i("")},disabled:!n.trim(),className:"w-full px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:bg-gray-400",children:"Send Alert"})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Alerts"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:0===l.alerts.length?e.jsx("p",{className:"text-gray-500 text-sm",children:"No alerts sent"}):l.alerts.map(s=>e.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"px-2 py-1 rounded text-xs "+("emergency"===s.type?"bg-red-100 text-red-800":"warning"===s.type?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:s.type}),e.jsx("span",{className:"text-gray-500",children:new Date(s.timestamp).toLocaleTimeString()})]}),e.jsx("p",{children:s.message})]},s.id))})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center text-blue-800 dark:text-blue-200",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Mesh Network Status"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.meshNetwork.devices}),e.jsx("div",{className:"text-sm text-blue-700",children:"Connected Devices"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 capitalize",children:l.meshNetwork.range}),e.jsx("div",{className:"text-sm text-blue-700",children:"Network Range"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 capitalize",children:l.meshNetwork.strength}),e.jsx("div",{className:"text-sm text-blue-700",children:"Signal Strength"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"w-8 h-8 mx-auto text-green-600 mb-1"}),e.jsx("div",{className:"text-sm text-blue-700",children:"Battery Optimized"})]})]})]})]})})})},EventLinksModal=({event:t,onClose:a})=>{var l,r;const[n,d]=s.useState(""),[c,o]=s.useState("");s.useEffect(()=>{t.links&&(C.toDataURL(t.links.public).then(d),C.toDataURL(t.links.private).then(o))},[t.links]);const copyToClipboard=e=>{navigator.clipboard.writeText(e),alert("Link copied to clipboard!")},downloadQR=(e,s)=>{const t=document.createElement("a");t.href=e,t.download=s,t.click()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Event Links & QR Codes"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:e.jsx(i,{})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Public Link"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"text",value:(null==(l=t.links)?void 0:l.public)||"",readOnly:!0,className:"flex-1 p-2 border rounded text-sm"}),e.jsx("button",{onClick:()=>{var e;return copyToClipboard(null==(e=t.links)?void 0:e.public)},className:"p-2 bg-green-600 text-white rounded hover:bg-green-700",title:"Copy link",children:e.jsx(f,{className:"h-4 w-4"})})]}),n&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:n,alt:"Public QR Code",className:"w-32 h-32 mb-2"}),e.jsxs("button",{onClick:()=>downloadQR(n,`${t.title}_public_qr.png`),className:"flex items-center gap-1 px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:[e.jsx(w,{className:"h-3 w-3"}),"Download QR"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Private Link (Invite Only)"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"text",value:(null==(r=t.links)?void 0:r.private)||"",readOnly:!0,className:"flex-1 p-2 border rounded text-sm"}),e.jsx("button",{onClick:()=>{var e;return copyToClipboard(null==(e=t.links)?void 0:e.private)},className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Copy link",children:e.jsx(f,{className:"h-4 w-4"})})]}),c&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:c,alt:"Private QR Code",className:"w-32 h-32 mb-2"}),e.jsxs("button",{onClick:()=>downloadQR(c,`${t.title}_private_qr.png`),className:"flex items-center gap-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:[e.jsx(w,{className:"h-3 w-3"}),"Download QR"]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Sharing Instructions"}),e.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[e.jsx("li",{children:"• Public link can be shared freely - anyone can view event details"}),e.jsx("li",{children:"• Private link requires invitation - use for controlled access"}),e.jsx("li",{children:"• QR codes can be printed or displayed for easy mobile access"}),e.jsx("li",{children:"• Links remain active until event sharing is terminated"})]})]})]})})})},EventFeedbackModal=({event:t,onClose:a,onSubmitFeedback:l})=>{const[r]=s.useState(t.feedback||[]),[n,d]=s.useState({rating:5,comment:"",suggestions:""}),c=r.length>0?(r.reduce((e,s)=>e+s.rating,0)/r.length).toFixed(1):0;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Event Feedback"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:e.jsx(i,{})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),e.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Total Feedback"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c}),e.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Average Rating"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(e=>e.rating>=4).length}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-200",children:"Positive Reviews"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold mb-4 flex items-center",children:[e.jsx(k,{className:"h-5 w-5 mr-2"}),"Share Your Feedback"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rating"}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>e.jsx("button",{onClick:()=>d(e=>({...e,rating:s})),className:"text-2xl "+(s<=n.rating?"text-yellow-400":"text-gray-300"),children:"★"},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Comments"}),e.jsx("textarea",{value:n.comment,onChange:e=>d(s=>({...s,comment:e.target.value})),placeholder:"How was your experience?",className:"w-full p-3 border rounded-lg",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Suggestions for Improvement"}),e.jsx("textarea",{value:n.suggestions,onChange:e=>d(s=>({...s,suggestions:e.target.value})),placeholder:"What could we do better next time?",className:"w-full p-3 border rounded-lg",rows:2})]}),e.jsx("button",{onClick:()=>{const e={id:Date.now(),userId:"current_user",userName:"Current User",rating:n.rating,comment:n.comment,suggestions:n.suggestions,submittedAt:Date.now()};l&&l(t.id,e),d({rating:5,comment:"",suggestions:""})},disabled:!n.comment.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:bg-gray-400",children:"Submit Feedback"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold",children:["All Feedback (",r.length,")"]}),0===r.length?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No feedback yet. Be the first to share your thoughts!"}):r.map(s=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium",children:s.userName}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((t,a)=>e.jsx("span",{className:"text-sm "+(a<s.rating?"text-yellow-400":"text-gray-300"),children:"★"},a))})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:new Date(s.submittedAt).toLocaleDateString()}),s.comment&&e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:"Comments:"})," ",s.comment]}),s.suggestions&&e.jsxs("div",{children:[e.jsx("strong",{children:"Suggestions:"})," ",s.suggestions]})]},s.id))]})]})})})},SealBadge=({event:s,showDetails:t=!1})=>{var a,l;const r=null==(a=null==s?void 0:s.seal)?void 0:a.granted,n=null==(l=null==s?void 0:s.seal)?void 0:l.validUntil,i=n&&new Date(n)>new Date;return r?i?e.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),"LifeSync Seal",t&&e.jsxs("span",{className:"ml-2 text-xs",children:["Valid until ",new Date(n).toLocaleDateString()]})]}):e.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),"Seal Expired"]}):e.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Seal Pending"]})},S="lifesync_communities_v1",load=()=>{try{return JSON.parse(localStorage.getItem(S)||"[]")}catch{return[]}},loadAlerts=()=>{try{return JSON.parse(localStorage.getItem("lifesync_alerts_v1")||"[]")}catch{return[]}},CommunityHub=()=>{const t=a(),[i,d]=l(),[c,o]=s.useState(load),[m,x]=s.useState(loadAlerts),[h,g]=s.useState(()=>{try{return JSON.parse(localStorage.getItem("lifesync_events_v1")||"[]")}catch{return[]}}),[u,b]=s.useState(()=>{const e=i.get("tab");return e||("/community-governance"===t.pathname?"governance":"/incident-reporting"===t.pathname||"/local-networking"===t.pathname||"/community-support"===t.pathname?"communications":"overview")}),[p,j]=s.useState(!1),[v,y]=s.useState(null),[N,f]=s.useState(!1),[w,k]=s.useState(!1),[C,E]=s.useState(!1),[A,R]=s.useState(!1),[L,T]=s.useState(null),[M,_]=s.useState(""),[D,P]=s.useState("General");s.useEffect(()=>{var e;e=c,localStorage.setItem(S,JSON.stringify(e))},[c]),s.useEffect(()=>{localStorage.setItem("lifesync_events_v1",JSON.stringify(h))},[h]),s.useEffect(()=>{const e=i.get("tab"),s=i.get("action");"events"===e&&"create"===s&&(b("events"),j(!0))},[i]);const I=s.useCallback(e=>o(s=>[e,...s]),[]),F=s.useCallback(e=>{g(s=>[e,...s]),localStorage.setItem("lifesync_events_v1",JSON.stringify([e,...h]))},[h]),O=s.useCallback((e,s)=>{g(t=>t.map(t=>{var a,l,r,n;if(t.id===e){const e={...t};if(e.governance.approvals=[...e.governance.approvals||[],s],"approve"===s.type){const s=e.governance.approvalChain||[],t=s.indexOf(e.governance.currentStep);t>=0&&t<s.length-1&&(e.governance.currentStep=s[t+1]);const i=e.governance.approvalChain.length;if(e.governance.approvals.filter(e=>"approve"===e.type).length>=i){e.status="approved",e.seal={granted:!0,validUntil:new Date((null==(l=null==(a=e.dates)?void 0:a[0])?void 0:l.date)+"T"+(null==(n=null==(r=e.dates)?void 0:r[0])?void 0:n.endTime)).getTime()||Date.now()+864e5,criteria:["governance_completed","safety_measures","emergency_sync"]};const s=`${window.location.origin}/seal/${e.id}`,t=`${s}?token=${btoa(e.id+"_private")}`,i=`${s}?token=${btoa(e.id+"_public")}`;e.links={public:i,private:t,qrPublic:null,qrPrivate:null}}}else"conditions"===s.type?(e.status="approved_with_conditions",e.governance.conditions=s.conditions):"request_info"===s.type&&(e.status="pending_info",e.governance.requestedInfo=s.requestInfo);return e}return t}))},[]),z=s.useCallback((e,s)=>{g(t=>t.map(t=>t.id===e?{...t,status:"rejected",governance:{...t.governance,rejections:[...t.governance.rejections||[],s]}}:t))},[]),q=s.useCallback(e=>{T(e),j(!0)},[]),H=s.useCallback(e=>{g(s=>s.map(s=>s.id===e.id?{...e,lastUpdated:Date.now()}:s)),T(null),j(!1)},[]),U=s.useCallback((e,s)=>{g(t=>t.map(t=>{if(t.id===e){const e={...t};return e.feedback=[...e.feedback||[],s],e}return t}))},[]),G=s.useCallback(e=>{if(0===c.length){const s={id:"c_"+Date.now(),name:"Default Community",description:"Auto-created",households:[e]};o([s])}else o(s=>s.map((s,t)=>0===t?{...s,households:[...s.households||[],e]}:s))},[c.length]),V=s.useCallback((e,s)=>{x(t=>t.map(t=>{if(t.id!==e)return t;const a={...t,confirmations:[...t.confirmations||[],s]};return a.confirmations.filter(e=>"confirm"===e.verdict).length>=2&&(a.status="confirmed"),a}))},[]),W=s.useMemo(()=>c.flatMap(e=>e.households||[]).length,[c]),B=s.useMemo(()=>h.filter(e=>"approved"===e.status).length,[h]),J=s.useMemo(()=>m.filter(e=>"hub"===e.communityId).length,[m]),$=s.useMemo(()=>m.filter(e=>"hub"===e.communityId),[m]);return e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Community Hub"}),e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[{id:"overview",label:"Overview"},{id:"events",label:"Events"},{id:"households",label:"Households"},{id:"governance",label:"Governance"},{id:"communications",label:"Communications"},{id:"integrations",label:"Integrations"}].map(s=>e.jsx("button",{onClick:()=>changeTab(s.id),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors "+(u===s.id?"bg-white dark:bg-gray-700 text-primary-600 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:s.label},s.id))})}),"overview"===u&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-2xl",children:"🏠"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome Home"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your family's safety and community hub"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-400 to-green-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:W}),e.jsx("div",{className:"text-green-100",children:"Households"})]}),e.jsx("div",{className:"text-4xl",children:"🏘️"})]}),e.jsx("button",{onClick:()=>changeTab("households"),className:"mt-4 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors",children:"Manage Households →"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:B}),e.jsx("div",{className:"text-blue-100",children:"Active Events"})]}),e.jsx("div",{className:"text-4xl",children:"🎉"})]}),e.jsx("button",{onClick:()=>changeTab("events"),className:"mt-4 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors",children:"View Events →"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:J}),e.jsx("div",{className:"text-purple-100",children:"Community Alerts"})]}),e.jsx("div",{className:"text-4xl",children:"🔔"})]}),e.jsx("button",{onClick:()=>changeTab("communications"),className:"mt-4 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors",children:"View Alerts →"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"5"}),e.jsx("div",{className:"text-orange-100",children:"Integrations"})]}),e.jsx("div",{className:"text-4xl",children:"🔗"})]}),e.jsx("button",{onClick:()=>changeTab("integrations"),className:"mt-4 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors",children:"Manage Integrations →"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Family Safety Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"All Systems Active"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-green-600",children:"📡"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Offline Network"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wi-Fi & Bluetooth Active"})]})]}),e.jsx("div",{className:"text-xs text-green-600 font-medium",children:"✓ Connected to 12 devices"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600",children:"🚨"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Emergency Sync"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rapid response ready"})]})]}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"✓ Last sync: 2 minutes ago"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-800 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-purple-600",children:"👥"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Community Trust"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verified connections"})]})]}),e.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"✓ 95% trust score"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center p-3 bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-lg hover:from-pink-600 hover:to-pink-700 transition-all",children:[e.jsx("span",{className:"text-xl mr-3",children:"🎉"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Create Family Event"}),e.jsx("div",{className:"text-sm opacity-90",children:"Plan safe gatherings with LifeSync Seal"})]})]}),e.jsxs("button",{onClick:()=>changeTab("households"),className:"w-full flex items-center p-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all",children:[e.jsx("span",{className:"text-xl mr-3",children:"👨‍👩‍👧‍👦"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Manage Households"}),e.jsx("div",{className:"text-sm opacity-90",children:"Add family members and set permissions"})]})]}),e.jsxs("button",{onClick:()=>changeTab("communications"),className:"w-full flex items-center p-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all",children:[e.jsx("span",{className:"text-xl mr-3",children:"💬"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Send Family Alert"}),e.jsx("div",{className:"text-sm opacity-90",children:"Communicate safely offline-first"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[h.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs text-white",children:"🎉"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:s.title}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[s.date," • ",s.status]})]})]},s.id)),0===h.length&&e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🎯"}),e.jsx("div",{children:"No recent events"}),e.jsx("div",{className:"text-sm",children:"Create your first family event!"})]})]})]})]}),0===c.length&&e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg p-8 text-center text-white",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🌍"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Join Your Community"}),e.jsx("p",{className:"mb-6 opacity-90",children:"Connect with neighbors and build a safer, stronger community together."}),e.jsx(CommunityCreate,{onCreate:I})]})]}),"events"===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"LifeSync Seal Events"}),"create"===i.get("action")&&e.jsx("span",{className:"ml-3 px-2 py-0.5 rounded-full text-xs bg-green-100 text-green-700 animate-pulse",children:"Wizard open"})]}),e.jsx("button",{onClick:()=>d({tab:"events",action:"create"}),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 "+("create"===i.get("action")?"ring-2 ring-offset-2 ring-primary-300":""),children:"Create Event"})]}),h.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Your Events"}),h.map(s=>{var t,a,l;return e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(SealBadge,{event:s}),e.jsx("div",{className:"mt-2 px-2 py-1 rounded text-xs "+("approved"===s.status?"bg-green-100 text-green-800":"pending_approval"===s.status?"bg-yellow-100 text-yellow-800":"rejected"===s.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:s.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Dates:"}),s.dates?s.dates.map((s,t)=>e.jsxs("div",{className:"ml-2",children:[s.label&&e.jsxs("span",{children:[s.label,": "]}),s.date," ",s.startTime,"-",s.endTime]},t)):e.jsxs("div",{children:[s.date," ",s.startTime,"-",s.endTime]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Locations:"}),s.locations?s.locations.map((s,t)=>e.jsxs("div",{className:"ml-2",children:[s.label&&e.jsxs("span",{children:[s.label,": "]}),s.address]},t)):e.jsx("div",{children:(null==(t=s.location)?void 0:t.address)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",s.type]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Attendees:"})," ",(null==(l=null==(a=s.attendees)?void 0:a.accepted)?void 0:l.length)||0]})]}),e.jsxs("div",{className:"mt-3 flex space-x-2",children:[!isEventCompleted(s)&&e.jsx("button",{onClick:()=>q(s),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"Edit Event"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"View Details"}),("pending_approval"===s.status||"approved"===s.status)&&e.jsx("button",{onClick:()=>openEventApproval(s),className:"px-3 py-1 bg-orange-500 text-white rounded text-sm hover:bg-orange-600",children:"Review Approval"}),"approved"===s.status&&e.jsx("button",{onClick:()=>{y(s),k(!0)},className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:"Manage Sync"}),"approved"===s.status&&s.links&&e.jsx("button",{onClick:()=>{y(s),E(!0)},className:"px-3 py-1 bg-purple-500 text-white rounded text-sm hover:bg-purple-600",children:"QR Codes & Links"}),"approved"===s.status&&isEventCompleted(s)&&e.jsx("button",{onClick:()=>archiveEvent(s.id),className:"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600",children:"Archive"}),"archived"===s.status&&e.jsx("button",{onClick:()=>{y(s),R(!0)},className:"px-3 py-1 bg-indigo-500 text-white rounded text-sm hover:bg-indigo-600",children:"View Feedback"})]})]},s.id)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-lg border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-xl",children:"🔒"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"LifeSync Seal"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Trust & Safety Certified"})]})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Events with verified safety protocols, governance flows, and emergency sync capabilities."}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Child-to-household approval"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Offline mesh communication"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Emergency sync active"]})]})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Event Types"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm",children:"Private Events"}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Family"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm",children:"Community Events"}),e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Street"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm",children:"Public Events"}),e.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Festival"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm",children:"Institutional"}),e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:"School"})]})]})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Safety Features"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-600 text-sm",children:"✓"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Governance Flow"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Child → Parent → Household approval"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 text-sm",children:"📡"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Offline Mesh"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Wi-Fi & Bluetooth communication"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-red-600 text-sm",children:"🚨"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Emergency Sync"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Rapid response coordination"})]})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-yellow-50 dark:bg-yellow-900 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Getting Started"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-4",children:"Create your first LifeSync Seal event to enable comprehensive safety monitoring and offline communication."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-200 dark:bg-yellow-800 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-yellow-800 dark:text-yellow-200",children:"1"})}),e.jsx("p",{children:"Create Event"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-200 dark:bg-yellow-800 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-yellow-800 dark:text-yellow-200",children:"2"})}),e.jsx("p",{children:"Get Approvals"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-200 dark:bg-yellow-800 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-yellow-800 dark:text-yellow-200",children:"3"})}),e.jsx("p",{children:"Earn Seal"})]})]})]})]}),"households"===u&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(r,{onCreate:G})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"All Households"}),0===c.flatMap(e=>e.households||[]).length?e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded",children:"No households yet."}):e.jsx("div",{className:"space-y-3",children:c.flatMap(e=>e.households||[]).map(s=>{var t;return e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-700 rounded shadow-sm",children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.address}),s.description&&e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Members: ",(null==(t=s.members)?void 0:t.length)||0]})]},s.id)})})]})]}),"governance"===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Community Governance"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Manage governance structures for households, streets, and neighbourhoods. Set up validators, elections, and policies as per the 60% quorum rule."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h4",{className:"font-semibold mb-3 text-blue-600",children:"Household Governance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Constitution"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Membership rules, validator thresholds, incident validation"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"View/Edit"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Elections"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Admin, Moderators, Unit Leads"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Manage"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Sanctions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Warning → Mute → Suspension → Removal"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Review"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h4",{className:"font-semibold mb-3 text-green-600",children:"Street Governance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Street Coordinator"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Elected leader for street community"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Elect"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Responders Roster"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trained responders for emergencies"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Manage"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Public Page"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Street announcements and projects"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Edit"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h4",{className:"font-semibold mb-3 text-purple-600",children:"Neighbourhood Governance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Federation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Multiple streets forming neighbourhood"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-purple-600 text-white rounded text-sm",children:"Federate"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Cross-Street Escalation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Escalate issues to neighbourhood level"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-purple-600 text-white rounded text-sm",children:"Configure"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Participation metrics and coverage"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-purple-600 text-white rounded text-sm",children:"View"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Validator System"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"60% Quorum Rule"}),e.jsx("p",{className:"text-sm text-gray-600",children:"New members require 60% validator approval"}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Current Validators:"})," 3"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("h5",{className:"font-medium",children:"Validator Growth"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Each validated member becomes a validator"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-gray-600 text-white rounded text-sm",children:"Manage Validators"})]})]})]})]}),"communications"===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Send Community Alert"}),e.jsxs("select",{value:D,onChange:e=>P(e.target.value),className:"mb-2 p-2 border rounded w-full",children:[e.jsx("option",{children:"Medical"}),e.jsx("option",{children:"Fire"}),e.jsx("option",{children:"Crime"}),e.jsx("option",{children:"Infrastructure"}),e.jsx("option",{children:"General"})]}),e.jsx("textarea",{value:M,onChange:e=>_(e.target.value),className:"w-full mb-2 p-2 border rounded",placeholder:"Describe the situation"}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:createAlert,className:"px-4 py-2 bg-primary-600 text-white rounded",children:"Send Alert"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Alerts"}),e.jsx("div",{className:"space-y-3",children:0===J?e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded",children:"No alerts."}):$.map(s=>e.jsx(n,{alert:s,onConfirm:V},s.id))})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Offline-First Communications"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Local Wi-Fi"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Direct device-to-device via LAN"}),e.jsx("div",{className:"mt-2 text-xs text-green-600",children:"✓ Active"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded",children:[e.jsx("h4",{className:"font-medium text-green-800 dark:text-green-200",children:"Bluetooth LE"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Low-energy mesh networking"}),e.jsx("div",{className:"mt-2 text-xs text-green-600",children:"✓ Active"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900 rounded",children:[e.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200",children:"Wi-Fi Direct"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-300",children:"High-speed peer-to-peer"}),e.jsx("div",{className:"mt-2 text-xs text-yellow-600",children:"○ Available"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900 rounded",children:[e.jsx("h4",{className:"font-medium text-orange-800 dark:text-orange-200",children:"Mesh Network"}),e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-300",children:"Extended range routing"}),e.jsx("div",{className:"mt-2 text-xs text-green-600",children:"✓ Active"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Presence & Connectivity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"12"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Local Network"}),e.jsx("div",{className:"text-xs text-green-600",children:"Within range"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"8"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Street Network"}),e.jsx("div",{className:"text-xs text-blue-600",children:"Nearby"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:"25"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Online"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Internet connected"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Communication Channels"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Family Channel"}),e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Private family communications"})]}),e.jsx("span",{className:"text-green-600 text-sm",children:"Active"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Household Channel"}),e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Property-wide communications"})]}),e.jsx("span",{className:"text-green-600 text-sm",children:"Active"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Street Channel"}),e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Neighbourhood safety alerts"})]}),e.jsx("span",{className:"text-blue-600 text-sm",children:"Available"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Responder Channel"}),e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Emergency response coordination"})]}),e.jsx("span",{className:"text-yellow-600 text-sm",children:"On Demand"})]})]})]})]}),"integrations"===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ecosystem Integrations"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Sazi Life Academy"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"Educational resources and courses for community members"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm",onClick:()=>window.open("https://sazi-life-academy.com","_blank"),children:"Access Academy"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900 rounded",children:[e.jsx("h4",{className:"font-medium text-green-800 dark:text-green-200",children:"Bizhub"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Business networking and opportunities within communities"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-green-600 text-white rounded text-sm",onClick:()=>window.open("https://bizhub.salatiso.com","_blank"),children:"Open Bizhub"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900 rounded",children:[e.jsx("h4",{className:"font-medium text-purple-800 dark:text-purple-200",children:"Family Value"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-300",children:"Family formalisation and public presence management"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-purple-600 text-white rounded text-sm",onClick:()=>window.open("https://family-value.salatiso.com","_blank"),children:"Manage Family"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900 rounded",children:[e.jsx("h4",{className:"font-medium text-orange-800 dark:text-orange-200",children:"Ekhaya"}),e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-300",children:"Household management and governance tools"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-orange-600 text-white rounded text-sm",onClick:()=>window.open("https://ekhaya.salatiso.com","_blank"),children:"Household Hub"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900 rounded",children:[e.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200",children:"Pigeeback"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:"Trust and transport safety verification"}),e.jsx("button",{className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm",onClick:()=>window.open("https://pigeeback.salatiso.com","_blank"),children:"Safe Transport"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Integration Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{children:"Sazi Life Academy by Salatiso"}),e.jsx("span",{className:"text-green-600",children:"✓ Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{children:"Bizhub"}),e.jsx("span",{className:"text-green-600",children:"✓ Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{children:"Family Value"}),e.jsx("span",{className:"text-green-600",children:"✓ Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{children:"Ekhaya"}),e.jsx("span",{className:"text-green-600",children:"✓ Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{children:"Pigeeback"}),e.jsx("span",{className:"text-green-600",children:"✓ Connected"})]})]})]})]}),p&&e.jsx(EventCreateWizard,{onCreate:L?H:F,onClose:()=>{j(!1),T(null);const e=new URLSearchParams(i);e.delete("action"),e.set("tab","events"),d(e)},existingEvent:L}),N&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Event Approval Workflow"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),e.jsx(EventApprovalWorkflow,{event:v,onApprove:O,onReject:z,currentUserRole:"parent"})]})})}),w&&v&&e.jsx(EventSyncDashboard,{event:v,onClose:()=>k(!1)}),C&&v&&e.jsx(EventLinksModal,{event:v,onClose:()=>E(!1)}),A&&v&&e.jsx(EventFeedbackModal,{event:v,onClose:()=>R(!1),onSubmitFeedback:U})]})};export{CommunityHub as default};
