import{j as e,G as a}from"./index-286a0f84.js";import{r as s}from"./vendor-c40a6ff5.js";import{h as l,ac as t,x as r,y as n,q as o,t as i,X as c,ab as d}from"./ui-ac866f5b.js";import{a as u,b as m,c as x}from"./layoutHelpers-b7eca1f0.js";import"./firebase-fb364782.js";import"./i18n-53393985.js";const g=s.memo(function({contact:a,onEdit:s,onDelete:i}){return e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-bold",children:[a.firstName," ",a.lastName]}),e.jsxs("div",{className:"mt-2 space-y-1 text-gray-600",children:[a.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-4 h-4"}),e.jsx("a",{href:`mailto:${a.email}`,className:"hover:text-blue-600",children:a.email})]}),a.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsx("a",{href:`tel:${a.phone}`,className:"hover:text-blue-600",children:a.phone})]}),a.address&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4"}),a.address]})]}),a.notes&&e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:a.notes}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:a.category})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":`Edit contact: ${a.firstName} ${a.lastName}`,children:e.jsx(n,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":`Delete contact: ${a.firstName} ${a.lastName}`,children:e.jsx(o,{className:"w-5 h-5"})})]})]})})});function Contacts(){const{guestData:l,updateGuestData:t}=s.useContext(a),[r,n]=s.useState((null==l?void 0:l.contacts)||[]),[o,h]=s.useState(""),[p,b]=s.useState("all"),[N,j]=s.useState(!1),[f,y]=s.useState(null),[v,C]=s.useState({firstName:"",lastName:"",email:"",phone:"",address:"",category:"personal",notes:""}),saveContacts=e=>{n(e),t(a=>({...a,contacts:e}))},w=s.useCallback(()=>{if(!v.firstName||!v.email)return void alert("Please fill in at least name and email");const e={id:Date.now(),...v,createdAt:(new Date).toISOString()};saveContacts([...r,e]),C({firstName:"",lastName:"",email:"",phone:"",address:"",category:"personal",notes:""}),j(!1)},[v,r]),k=s.useCallback(e=>{const a=r.map(a=>a.id===e?{...a,...v}:a);saveContacts(a),y(null),C({firstName:"",lastName:"",email:"",phone:"",address:"",category:"personal",notes:""})},[v,r]),S=s.useCallback(e=>{confirm("Are you sure you want to delete this contact?")&&saveContacts(r.filter(a=>a.id!==e))},[r]),A=s.useCallback(e=>{C(e),y(e.id),j(!1)},[]),E=s.useCallback(()=>{C({firstName:"",lastName:"",email:"",phone:"",address:"",category:"personal",notes:""}),y(null),j(!1)},[]),$=s.useMemo(()=>r.filter(e=>{const a=`${e.firstName} ${e.lastName}`.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.phone.includes(o),s="all"===p||e.category===p;return a&&s}),[r,o,p]),D=s.useMemo(()=>r.filter(e=>"personal"===e.category).length,[r]),F=s.useMemo(()=>r.filter(e=>"work"===e.category).length,[r]),L=s.useMemo(()=>r.filter(e=>"emergency"===e.category).length,[r]);return e.jsxs("div",{className:u(),children:[e.jsxs("div",{className:m(),children:[e.jsx("h1",{className:x(),children:"Contacts"}),e.jsxs("button",{onClick:()=>j(!N),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors","aria-label":"Add new contact",children:[e.jsx(i,{className:"w-4 h-4"}),"Add Contact"]})]}),(N||f)&&e.jsxs("div",{className:"bg-blue-50 rounded-lg border-2 border-blue-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:f?"Edit Contact":"Add New Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"First Name *",value:v.firstName,onChange:e=>C({...v,firstName:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"First name"}),e.jsx("input",{type:"text",placeholder:"Last Name",value:v.lastName,onChange:e=>C({...v,lastName:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Last name"}),e.jsx("input",{type:"email",placeholder:"Email *",value:v.email,onChange:e=>C({...v,email:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Email address"}),e.jsx("input",{type:"tel",placeholder:"Phone",value:v.phone,onChange:e=>C({...v,phone:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Phone number"}),e.jsx("input",{type:"text",placeholder:"Address",value:v.address,onChange:e=>C({...v,address:e.target.value}),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Address"}),e.jsxs("select",{value:v.category,onChange:e=>C({...v,category:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Contact category",children:[e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"family",children:"Family"}),e.jsx("option",{value:"emergency",children:"Emergency"})]}),e.jsxs("select",{value:v.category,onChange:e=>C({...v,category:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Contact relationship",children:[e.jsx("option",{value:"",children:"Select Relationship"}),e.jsx("option",{value:"friend",children:"Friend"}),e.jsx("option",{value:"colleague",children:"Colleague"}),e.jsx("option",{value:"family",children:"Family"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("textarea",{placeholder:"Notes",value:v.notes,onChange:e=>C({...v,notes:e.target.value}),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,"aria-label":"Contact notes"})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-4",children:[e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Cancel",children:[e.jsx(c,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{onClick:()=>f?k(f):w(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors","aria-label":f?"Update contact":"Add contact",children:[e.jsx(i,{className:"w-4 h-4"}),f?"Update":"Add"]})]})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(d,{className:"absolute left-3 top-3 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search contacts...",value:o,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Search contacts"})]}),e.jsxs("select",{value:p,onChange:e=>b(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter by category",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"family",children:"Family"}),e.jsx("option",{value:"emergency",children:"Emergency"})]})]}),0===$.length?e.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:[e.jsx("p",{className:"mb-2",children:"No contacts found"}),o&&e.jsx("p",{className:"text-sm",children:"Try adjusting your search"})]}):e.jsx("div",{className:"grid gap-4",children:$.map(a=>e.jsx(g,{contact:a,onEdit:A,onDelete:S},a.id))}),e.jsxs("div",{className:"mt-8 grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Contacts"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:D}),e.jsx("div",{className:"text-sm text-gray-600",children:"Personal"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:F}),e.jsx("div",{className:"text-sm text-gray-600",children:"Work"})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:L}),e.jsx("div",{className:"text-sm text-gray-600",children:"Emergency"})]})]})]})}export{Contacts as default};
