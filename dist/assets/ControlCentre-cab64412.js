import{j as e}from"./index-6c723d70.js";import{r as s,L as r}from"./vendor-d6555781.js";import"./firebase-fb364782.js";import"./i18n-8b62e3c8.js";import"./ui-eef567c7.js";function ControlCentre(){var a,t;const[d,l]=s.useState(null),[i,n]=s.useState([]),[c,o]=s.useState({stage:"idle"});return s.useEffect(()=>{try{const e=JSON.parse(localStorage.getItem("lifesync_active_ride")||"null");l(e)}catch(e){}try{const e=JSON.parse(localStorage.getItem("lifesync_feedback_reports")||"[]");n(e)}catch(e){}try{const e=JSON.parse(localStorage.getItem("lifesync_escalation_status")||'{"stage":"idle"}');o(e)}catch(e){}},[]),e.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Control Centre / Fleet"}),e.jsx(r,{to:"/ride-sharing",className:"text-primary-600 underline",children:"Back to Ride Sharing"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Live Trips"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Overview of active trips, current locations, and statuses."}),e.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2",children:d?e.jsxs("div",{className:"p-3 border rounded dark:border-gray-700 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Trip ID:"})," ",d.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Driver:"})," ",(null==(a=d.driver)?void 0:a.name)||"Unknown"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",c.stage]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Passengers:"})," ",(null==(t=d.passengers)?void 0:t.length)||0]})]}):e.jsx("div",{className:"p-3 border rounded dark:border-gray-700 text-sm",children:"No live trips."})})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Escalations & Alerts"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Recent emergency escalations, double-knocks, and resolutions."}),e.jsxs("ul",{className:"mt-3 list-disc pl-5 text-sm",children:[i.length>0?i.map((s,r)=>e.jsxs("li",{children:[s.reason," at ",new Date(s.at).toLocaleString()]},r)):e.jsx("li",{children:"No escalations in the last 24 hours."}),"idle"!==c.stage&&e.jsxs("li",{children:["Current escalation: ",c.stage]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 md:col-span-2",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Fleet Vehicles"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage vehicles, drivers, and compliance. (MVP placeholder)"}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[e.jsx("div",{className:"p-3 border rounded dark:border-gray-700",children:"No vehicles yet."}),e.jsx("div",{className:"p-3 border rounded dark:border-gray-700",children:"Add import/export later."}),e.jsx("div",{className:"p-3 border rounded dark:border-gray-700",children:"Compliance dashboard coming."})]})]})]})]})}export{ControlCentre as default};
