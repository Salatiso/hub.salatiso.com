import{j as e,G as t}from"./index-286a0f84.js";import{r as s}from"./vendor-c40a6ff5.js";import{F as a,I as r}from"./IDVerification-236f7a78.js";import{r as i,p as l,b as n,U as c,a as d,ai as o,B as x,O as m,a7 as h,G as g}from"./ui-ac866f5b.js";import"./firebase-fb364782.js";import"./i18n-53393985.js";const TripFacialLog=({interactionId:t,participants:r=[],onComplete:d,onSkip:o,context:x="safety_sync"})=>{const[m,h]=s.useState(0),[g,u]=s.useState({}),[b,y]=s.useState(!1),[p,j]=s.useState(!1),f=[{id:"instructions",title:"Instructions & Consent"},{id:"participants",title:"Participant Verification"},{id:"capture",title:"Facial Capture"},{id:"review",title:"Review & Confirm"}],v=r[m-1];return p?e.jsx("div",{className:"facial-log-container bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Facial Verification Skipped"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You have chosen to skip facial verification. Some safety features may be limited."}),e.jsx("button",{onClick:()=>j(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})}):b?e.jsx("div",{className:"facial-log-container bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx(l,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Facial Verification Complete"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"All participants have been verified. Your interaction is now secured with facial recognition."}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(n,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-medium text-green-800",children:"Enhanced Security Active"})]}),e.jsx("p",{className:"text-sm text-green-700 text-center",children:"Facial verification provides additional safety layer for dispute resolution"})]})]})}):e.jsxs("div",{className:"facial-log-container bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Facial Verification Process"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",m+1," of ",f.length]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(m+1)/f.length*100+"%"}})}),e.jsx("div",{className:"flex justify-between",children:f.map((t,s)=>e.jsxs("div",{className:"flex flex-col items-center "+(s<=m?"text-blue-600":"text-gray-400"),children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mb-1 "+(s<m||s===m?"bg-blue-600 text-white":"bg-gray-200 text-gray-400"),children:s<m?e.jsx(l,{className:"w-4 h-4"}):s+1}),e.jsx("span",{className:"text-xs text-center max-w-20",children:t.title})]},t.id))})]}),e.jsxs("div",{className:"min-h-96",children:[0===m&&e.jsxs("div",{className:"text-center",children:[e.jsx(n,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Facial Verification for Enhanced Safety"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-blue-800 mb-3",children:"Facial recognition adds an extra layer of security to your interaction:"}),e.jsxs("ul",{className:"text-left text-blue-700 text-sm space-y-2",children:[e.jsx("li",{children:"• Provides evidence for dispute resolution"}),e.jsx("li",{children:"• Verifies participant identities"}),e.jsx("li",{children:"• Enhances trust and accountability"}),e.jsx("li",{children:"• Works alongside existing safety features"})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(i,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-yellow-800 font-medium mb-1",children:"Important Notes:"}),e.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[e.jsx("li",{children:"• Photos are encrypted and auto-deleted after 48 hours"}),e.jsx("li",{children:"• Facial recognition is optional but recommended"}),e.jsx("li",{children:"• You can skip this step if preferred"}),e.jsx("li",{children:"• Ensure good lighting for best results"})]})]})]})})]}),1===m&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Participants to Verify"}),e.jsx("div",{className:"space-y-3",children:r.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border "+(g[t.id]?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3 "+(g[t.id]?"bg-green-500":"bg-gray-400"),children:g[t.id]?e.jsx(l,{className:"w-6 h-6 text-white"}):e.jsx(c,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.role})]})]}),g[t.id]&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Verified"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(g[t.id].capturedAt).toLocaleTimeString()})]})]},t.id))}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:e.jsxs("p",{children:[Object.keys(g).length," of ",r.length," participants verified"]})})]}),2===m&&v&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Verify ",v.name]}),e.jsx("p",{className:"text-gray-600",children:v.role})]}),e.jsx(a,{onCapture:e=>{return t=v.id,s=e,void u(e=>({...e,[t]:{...s,capturedAt:(new Date).toISOString()}}));var t,s},userType:v.role.toLowerCase().replace(" ","_"),context:x})]}),3===m&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"Review Verification"}),e.jsx("div",{className:"space-y-4 mb-6",children:r.map(t=>{const s=g[t.id];return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 "+(s?"bg-green-500":"bg-red-500"),children:s?e.jsx(l,{className:"w-4 h-4 text-white"}):e.jsx(i,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.role})]})]}),e.jsx("div",{className:"text-right",children:s?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Verified"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.capturedAt).toLocaleTimeString()})]}):e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Not Verified"})})]},t.id)})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(n,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Security Benefits:"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:"• Encrypted photo storage with auto-deletion"}),e.jsx("li",{children:"• Enhanced dispute resolution capabilities"}),e.jsx("li",{children:"• Additional trust layer for interactions"}),e.jsx("li",{children:"• Community validation support"})]})]})]})})]})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{m>0&&h(m-1)},disabled:0===m,className:"px-6 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("div",{className:"flex gap-3",children:[m<f.length-1?e.jsx("button",{onClick:()=>{m<f.length-1&&h(m+1)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Next"}):e.jsx("button",{onClick:()=>{const e={interactionId:t,context:x,participants:r.map(e=>({id:e.id,name:e.name,role:e.role,facialLog:g[e.id]||null})),completedAt:(new Date).toISOString(),totalParticipants:r.length,verifiedParticipants:Object.keys(g).length};y(!0),d(e)},disabled:0===Object.keys(g).length,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Complete Verification"}),e.jsx("button",{onClick:()=>{j(!0),o({interactionId:t,context:x,reason:"user_skipped",skippedAt:(new Date).toISOString()})},className:"px-6 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Skip"})]})]})]})},SafetyInteractionFlow=({interactionType:t="follow_me_home",participants:a=[],onComplete:r,onCancel:d,className:o=""})=>{const[x,m]=s.useState("consent"),[h,g]=s.useState(null),[u,b]=s.useState(!1),y={consent:{title:"Safety Enhancement Consent",icon:n},facial_setup:{title:"Facial Verification Setup",icon:c},verification:{title:"Participant Verification",icon:l},complete:{title:"Safety Enhanced",icon:n}},getInteractionTitle=()=>{switch(t){case"follow_me_home":return"Follow Me Home Safety Enhancement";case"emergency_sync":return"Emergency Response Coordination";case"community_meeting":return"Community Safety Meeting";case"transport_sync":return"Transport Safety Coordination";default:return"Safety Interaction Enhancement"}};return u?e.jsx("div",{className:`safety-flow-completed bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto ${o}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-6",children:[(null==h?void 0:h.facialVerification)?e.jsx(l,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}):e.jsx(i,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:(null==h?void 0:h.facialVerification)?"Safety Enhanced":"Basic Safety Active"}),e.jsx("p",{className:"text-gray-600",children:(null==h?void 0:h.facialVerification)?"Facial verification has been completed. Your interaction is now secured with enhanced safety features.":"Basic safety features are active. Facial verification was skipped."})]}),(null==h?void 0:h.facialVerification)&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Verification Summary:"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("p",{children:["• ",h.verifiedParticipants," of ",h.totalParticipants," participants verified"]}),e.jsx("p",{children:"• Facial recognition data encrypted and stored securely"}),e.jsx("p",{children:"• Auto-deletion scheduled for 48 hours"}),e.jsx("p",{children:"• Enhanced dispute resolution capabilities activated"})]})]}),e.jsx("div",{className:"flex justify-center gap-4",children:e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:["Continue to ",getInteractionTitle()]})})]})}):e.jsxs("div",{className:`safety-interaction-flow bg-white rounded-lg shadow-lg ${o}`,children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:getInteractionTitle()}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Enhance safety with optional facial verification"})]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:"✕"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Setup Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Object.keys(y).indexOf(x)+1," of ",Object.keys(y).length]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(Object.keys(y).indexOf(x)+1)/Object.keys(y).length*100+"%"}})})]})]}),e.jsxs("div",{className:"p-6",children:["consent"===x&&e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(n,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Enhance Your Safety"}),e.jsx("p",{className:"text-gray-600",children:"Add facial verification for additional security and trust in your interactions."})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-3",children:"What Facial Verification Provides:"}),e.jsxs("ul",{className:"text-blue-800 space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(l,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Additional evidence for dispute resolution"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(l,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Enhanced participant verification"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(l,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Stronger trust and accountability"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(l,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Complements existing safety features"})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(i,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:"Privacy & Security:"}),e.jsxs("ul",{className:"text-yellow-800 text-sm space-y-1",children:[e.jsx("li",{children:"• Photos are encrypted and stored securely"}),e.jsx("li",{children:"• Auto-deletion after 48 hours"}),e.jsx("li",{children:"• Only used for verification purposes"}),e.jsx("li",{children:"• POPIA compliant data handling"})]})]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-600 mb-6",children:["Facial verification is ",e.jsx("strong",{children:"optional"})," but recommended for enhanced safety."]})})]}),"facial_setup"===x&&e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(c,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Participant Verification"}),e.jsx("p",{className:"text-gray-600",children:"Verify all participants for enhanced safety and trust."})]}),e.jsx(TripFacialLog,{interactionId:`safety_${Date.now()}`,participants:a,onComplete:e=>{g(e),m("complete"),b(!0),r&&r({interactionType:t,facialVerification:e,safetyEnhanced:!0,timestamp:(new Date).toISOString(),participants:e.participants})},onSkip:e=>{g(e),m("complete"),b(!0),r&&r({interactionType:t,facialVerification:null,safetyEnhanced:!1,skipped:!0,timestamp:(new Date).toISOString(),participants:a})},context:t})]})]}),"consent"===x&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:d,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Skip Enhancement"}),e.jsx("button",{onClick:()=>{m("facial_setup")},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Enhance Safety"})]})})]})},HomeServices=()=>{var a;const{guestData:u,setGuestData:b}=s.useContext(t),[y,p]=s.useState("find-services"),[j,f]=s.useState(!1),[v,N]=s.useState(!1),[w,k]=s.useState(null),[S,C]=s.useState(!1),[P,V]=s.useState(!1),[E,A]=s.useState(null),[I,F]=s.useState({name:"",businessName:"",category:"",experience:"",hourlyRate:"",description:"",services:[],certifications:[],nationality:"",workPermit:"",verified:!1,trustScore:0,completedJobs:0,rating:0,reviews:[]}),O=["Cleaning","Repairs & Maintenance","Gardening","Electrical","Plumbing","Painting","Carpentry","Security","Pest Control"];return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(d,{className:"h-12 w-12 text-primary-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Home Services"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mt-2",children:"Verified home service providers with safety protocols"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"find-services",label:"Find Services",icon:c},{id:"become-provider",label:"Become a Provider",icon:o},{id:"my-services",label:"My Services",icon:x}].map(t=>e.jsxs("button",{onClick:()=>p(t.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(y===t.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e.jsx(t.icon,{className:"h-4 w-4 inline mr-2"}),t.label]},t.id))})})}),"find-services"===y&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Service Categories"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:O.map(t=>e.jsx("button",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t})]})},t))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Available Services"}),e.jsx("div",{className:"space-y-4",children:[{id:1,provider:"Reliable Home Solutions",category:"Cleaning",rating:4.8,price:"R250/hour",safetyScore:96,verified:!0,nationality:"South African",experience:"5 years",completedJobs:150,trustScore:92,reviews:45,certifications:["Cleaning Industry Certification"],description:"Professional cleaning services with attention to detail"},{id:2,provider:"Professional Maintenance Co.",category:"Repairs & Maintenance",rating:4.9,price:"R350/hour",safetyScore:98,verified:!0,nationality:"South African",experience:"8 years",completedJobs:200,trustScore:95,reviews:67,certifications:["Electrical License","Plumbing Certification"],description:"Comprehensive repair and maintenance services"},{id:3,provider:"Maria Gonzalez",category:"Gardening",rating:4.7,price:"R180/hour",safetyScore:94,verified:!0,nationality:"Zimbabwean",workPermit:"WP123456",experience:"6 years",completedJobs:120,trustScore:88,reviews:32,certifications:["Horticulture Certificate"],description:"Expert gardening and landscaping services"}].map(t=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.provider}),t.verified&&e.jsx(n,{className:"h-5 w-5 text-green-500",title:"Verified Provider"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t.category}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(m,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm",children:t.rating}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.reviews," reviews)"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(n,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"text-sm text-green-600",children:[t.safetyScore,"% safe"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(h,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"text-sm text-blue-600",children:[t.trustScore,"% trust"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:[t.experience," experience"]}),e.jsxs("span",{children:[t.completedJobs," jobs completed"]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(g,{className:"h-3 w-3"}),t.nationality,t.workPermit&&" (Work Permit)"]})]}),t.certifications.length>0&&e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Certifications: ",t.certifications.join(", ")]})})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white text-lg",children:t.price}),e.jsx("button",{onClick:()=>(e=>{k(e),N(!0)})(t),className:"mt-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors",children:"Book Service"})]})]})},t.id))})]})]}),"become-provider"===y&&e.jsx("div",{className:"space-y-6",children:j?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Provider Registration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:I.name,onChange:e=>F(t=>({...t,name:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",value:I.businessName,onChange:e=>F(t=>({...t,businessName:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your business name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Category *"}),e.jsxs("select",{value:I.category,onChange:e=>F(t=>({...t,category:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select category"}),O.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Years of Experience"}),e.jsx("input",{type:"text",value:I.experience,onChange:e=>F(t=>({...t,experience:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., 5 years"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hourly Rate (ZAR)"}),e.jsx("input",{type:"text",value:I.hourlyRate,onChange:e=>F(t=>({...t,hourlyRate:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., 250"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nationality"}),e.jsxs("select",{value:I.nationality,onChange:e=>F(t=>({...t,nationality:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select nationality"}),e.jsx("option",{value:"South African",children:"South African"}),e.jsx("option",{value:"Zimbabwean",children:"Zimbabwean"}),e.jsx("option",{value:"Mozambican",children:"Mozambican"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),I.nationality&&"South African"!==I.nationality&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Work Permit Number *"}),e.jsx("input",{type:"text",value:I.workPermit,onChange:e=>F(t=>({...t,workPermit:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your work permit number"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Required for legal work in South Africa"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Description"}),e.jsx("textarea",{value:I.description,onChange:e=>F(t=>({...t,description:e.target.value})),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:4,placeholder:"Describe your services and expertise"})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>{I.name&&I.businessName&&I.category?C(!0):alert("Please fill in all required fields")},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Continue to Verification"})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 text-center",children:[e.jsx(o,{className:"h-16 w-16 text-primary-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Become a Service Provider"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-2xl mx-auto",children:"Join our verified network of service providers. Build trust with our community through ratings, reviews, and safety protocols. All providers must undergo identity verification and agree to our community safety standards."}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:[e.jsx(i,{className:"h-5 w-5 text-yellow-600 inline mr-2"}),e.jsxs("span",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Important:"})," By registering as a service provider, you agree to community rating based on safety, authenticity, service quality, and pricing. You must confirm your nationality and work authorization status."]})]}),e.jsx("button",{onClick:()=>{f(!0)},className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Start Registration"})]})}),"my-services"===y&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"My Services"}),(null==(a=u.activeServiceSyncs)?void 0:a.length)>0?e.jsx("div",{className:"space-y-4",children:u.activeServiceSyncs.map(t=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Service with ",t.providerId]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Started: ",new Date(t.startTime).toLocaleString()]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.safetyEnhanced&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx(n,{className:"h-3 w-3 mr-1"}),"Safety Enhanced"]}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:["Trust Score: ",t.trustScore,"%"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx(l,{className:"h-4 w-4 mr-1"}),"Active"]})})]})},t.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Active Services"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any active service syncs at the moment."})]})]}),v&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Book Service"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:w.provider}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:w.category}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsx("span",{className:"font-bold text-lg",children:w.price}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(m,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{children:w.rating})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsx(i,{className:"h-5 w-5 text-yellow-600 inline mr-2"}),e.jsxs("span",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Safety Notice:"})," This service provider has been verified. We recommend starting a safety sync for enhanced protection during the service."]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>{N(!1),A(w),V(!0)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Start Safe Service Sync"}),e.jsx("button",{onClick:()=>N(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Book Without Sync"})]})]})]})})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Provider Verification"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx(r,{onVerificationComplete:e=>{C(!1),F(t=>({...t,verified:!0,trustScore:e.trustScore,nationality:e.nationality,workPermit:e.workPermit}))},context:"home-services",requireFacial:!0,requireNationality:!0})]})})}),P&&E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Safety Setup"}),e.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx(SafetyInteractionFlow,{interactionType:"home-service",participants:[E.provider],onComplete:e=>{var t;V(!1);const s={id:Date.now(),serviceId:E.id,providerId:E.provider,clientId:(null==(t=u.profile)?void 0:t.name)||"Anonymous",startTime:Date.now(),status:"active",safetyEnhanced:e.safetyEnhanced,facialVerification:e.facialVerification,trustScore:Math.max(u.trustScore||0,75)},a={...u,activeServiceSyncs:[...u.activeServiceSyncs||[],s]};b(a)},onCancel:()=>V(!1)})]})})})]})})};export{HomeServices as default};
