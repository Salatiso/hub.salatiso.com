import{G as e,j as t}from"./index-cd94da5a.js";import{r as s}from"./vendor-d6555781.js";import{g as n,a,h as l,s as i,b as o}from"./hub-a90e27eb.js";import{u as r}from"./i18n-8b62e3c8.js";import"./firebase-fb364782.js";import"./ui-eef567c7.js";function HubSettings(){var u;const{t:c}=r(),{guestData:d,setGuestData:m}=s.useContext(e),[h,b]=s.useState(""),[x,g]=s.useState(""),[p,y]=s.useState(!1),[j,S]=s.useState(!1),[v,f]=s.useState(!1);s.useEffect(()=>{var e;b(n()||""),g(a()||""),S(l()),f(Boolean(null==(e=null==d?void 0:d.settings)?void 0:e.enableHubSync))},[null==(u=null==d?void 0:d.settings)?void 0:u.enableHubSync]);const N=s.useCallback(e=>{e.preventDefault(),i(h.trim()),o(x.trim()),y(!0),S(l()),m(e=>({...e,settings:{...e.settings||{},enableHubSync:v}})),setTimeout(()=>y(!1),1500)},[h,x,v,m]);return t.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:c("hubSettings.title","The Hub settings")}),t.jsx("p",{className:"text-sm text-gray-600 mb-6",children:c("hubSettings.subtitle","Configure The Hub connection for invitations and contact sync.")}),t.jsxs("form",{onSubmit:N,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"baseUrl",children:c("hubSettings.baseUrl","Base URL")}),t.jsx("input",{id:"baseUrl",type:"url",className:"w-full border rounded px-3 py-2",placeholder:"https://hub.example.com/api",value:h,onChange:e=>b(e.target.value),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"token",children:c("hubSettings.token","Bearer token")}),t.jsx("input",{id:"token",type:"password",className:"w-full border rounded px-3 py-2",placeholder:c("hubSettings.tokenPlaceholder","Paste your Hub API token"),value:x,onChange:e=>g(e.target.value)}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c("hubSettings.tokenHint","Stored locally in your browser. Never shared without your action.")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{id:"enableSync",type:"checkbox",className:"h-4 w-4",checked:v,onChange:e=>f(e.target.checked)}),t.jsx("label",{htmlFor:"enableSync",className:"text-sm",children:c("hubSettings.enableSync","Enable Hub sync (process outbox)")})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:c("common.save","Save")}),p&&t.jsx("span",{className:"text-green-700 text-sm",children:c("hubSettings.saved","Saved")})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium "+(j?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:j?c("hubSettings.statusAuthed","Authenticated: token present"):c("hubSettings.statusNoAuth","Not authenticated: token missing")})}),t.jsxs("div",{className:"mt-8 text-sm text-gray-600",children:[t.jsx("p",{className:"mb-2 font-medium",children:c("hubSettings.notesTitle","Notes")}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsx("li",{children:c("hubSettings.noteOutbox","When configured, the outbox will sync invitations and contact merges to The Hub.")}),t.jsx("li",{children:c("hubSettings.noteSecurity","Your token never leaves your device except when you initiate sync calls to The Hub.")})]})]})]})}export{HubSettings as default};
