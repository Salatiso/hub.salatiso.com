import{j as e}from"./index-286a0f84.js";import{r}from"./vendor-c40a6ff5.js";import{f as t}from"./reciprocityApi-a4e57ecf.js";import"./firebase-fb364782.js";import"./i18n-53393985.js";import"./ui-ac866f5b.js";import"./firebase-253e4471.js";const Smoke=()=>{const[s,a]=r.useState(null),[i,n]=r.useState("idle"),o={}.VITE_FIREBASE_FUNCTIONS_REGION||"us-central1";return r.useEffect(()=>{let e=!1;return(async()=>{n("calling");try{const r=await t("demo-partner-uid");e||a({ok:!0,data:r})}catch(r){e||a({ok:!1,code:(null==r?void 0:r.code)||(null==r?void 0:r.name),message:null==r?void 0:r.message})}finally{e||n("done")}})(),()=>{e=!0}},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:"Smoke Test"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["This page auto-calls the callable function ",e.jsx("code",{children:"computeReciprocity"})," via ",e.jsx("code",{children:"fetchPartnerVisibility"})," on mount."]}),e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-200 mb-4",children:[e.jsxs("div",{children:["Functions region: ",e.jsx("span",{className:"font-mono",children:o})]}),e.jsxs("div",{children:["Status: ",e.jsx("span",{className:"font-mono",children:i})]})]}),e.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900/50 text-gray-800 dark:text-gray-100 p-3 rounded overflow-auto",children:JSON.stringify(s,null,2)}),e.jsxs("p",{className:"mt-3 text-xs text-gray-600 dark:text-gray-400",children:["Expected when not signed in: an ",e.jsx("code",{children:"unauthenticated"})," or ",e.jsx("code",{children:"permission-denied"})," error, which confirms Functions is reachable."]})]})})};export{Smoke as default};
